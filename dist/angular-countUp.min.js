!function(n){"use strict";var t=n.module("countUpModule",[]);t.directive("countUp",["$filter","$parse",function(t,e){return{restrict:"A",scope:{startVal:"=?",endVal:"=?",duration:"=?",decimals:"=?",reanimateOnClick:"=?",filter:"@",options:"=?",countInstance:"=?"},link:function(a,r,i){function o(){var n=a.filter.split(":"),e=n.shift();return function(a){var r=[a];return Array.prototype.push.apply(r,n),a=t(e).apply(null,r)}}function l(n,t,e,a){n=n||0,isNaN(n)&&(n=Number(n.match(/[\d\-\.]+/g).join(""))),t=t||0,isNaN(t)&&(t=Number(t.match(/[\d\-\.]+/g).join(""))),a=Number(a)||2,e=Number(e)||0;var i=new CountUp(r[0],n,t,e,a,s);return t>999&&(i=new CountUp(r[0],n,t-100,e,a/2,s)),i}function u(n){i.countInstance&&(e(i.countInstance).assign(a.$parent,m),a.$parent.$digest(),m.frameVal!==a.endVal&&window.requestAnimationFrame(u))}function c(){window.requestAnimationFrame(u),m.reset(),a.endVal>999?m.start(function(){m.update(a.endVal)}):m.start()}var s={};if(a.filter){var d=o();s.formattingFn=d}a.options&&n.extend(s,a.options);var m=l(a.startVal,a.endVal,a.decimals,a.duration);i.relatedTarget&&(a.relatedTarget=document.getElementById(i.relatedTarget)),i.scrollSpyEvent?a.$on(i.scrollSpyEvent,function(n,t){t===i.id&&c()}):c();var p=!n.isDefined(a.reanimateOnClick)||a.reanimateOnClick;p&&r.on("click",function(){c()}),a.$watch("endVal",function(n,t){null!==n&&n!==t&&(null!==m?(m.update(a.endVal),window.requestAnimationFrame(u)):(m=l(a.startVal,a.endVal,a.decimals,a.duration),c()))})}}}])}(angular);